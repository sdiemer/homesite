{% extends "common.html" %}{% load i18n %}{% load staticfiles %}

{% block title %}{% trans "ARK server" %}{% endblock %}

{% block scripts %}
	<style>
		.output {
			word-wrap: break-word;
		}
	</style>
{% endblock %}

{% block main %}
	{% if cmd_requested %}
		{% if cmd_success %}
			<h2>{% trans "Command successfully executed." %}</h2>
		{% else %}
			<h2>{% trans "Command failed." %}</h2>
		{% endif %}
		<div>{% trans "Stdout:" %}</div>
		<div>{{ cmd_out|linebreaksbr }}</div>
		<br/>
		<div>{% trans "Stderr:" %}</div>
		<div>{{ cmd_err|linebreaksbr }}</div>
	{% endif %}

	<h2>{% trans "Server status" %}</h2>
	<div>
		<form method="post" action="." style="display: inline;">{% csrf_token %}
			<input type="hidden" name="action" value="restart"/>
			<button type="submit">{% trans 'Restart server' %}</button>
		</form>
		<form method="post" action="." style="display: inline;">{% csrf_token %}
			<input type="hidden" name="action" value="stop"/>
			<button type="submit">{% trans 'Stop server' %}</button>
		</form>
	</div>
	<p class="output">{{ ps_out|linebreaksbr }}</p>

	<h2>{% trans "Server log" %}</h2>
	<div>
		<button type="button" onclick="javascript: location.reload();">{% trans 'Reload' %}</button>
	</div>
	<p class="output">{{ log|linebreaksbr }}</p>
{% endblock %}
